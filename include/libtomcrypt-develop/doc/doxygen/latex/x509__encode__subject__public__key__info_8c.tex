\hypertarget{x509__encode__subject__public__key__info_8c}{}\section{M\+:/\+Office/!\+Doutorado/0. Repositorio\+S\+V\+N/\+H\+A\+M\+S\+T\+E\+R\+\_\+\+Prototype/branches/\+J\+I\+N\+T2018/include/libtomcrypt-\/develop/src/pk/asn1/x509/x509\+\_\+encode\+\_\+subject\+\_\+public\+\_\+key\+\_\+info.c File Reference}
\label{x509__encode__subject__public__key__info_8c}\index{M:/Office/"!Doutorado/0. RepositorioSVN/HAMSTER\_Prototype/branches/JINT2018/include/libtomcrypt-\/develop/src/pk/asn1/x509/x509\_encode\_subject\_public\_key\_info.c@{M:/Office/"!Doutorado/0. RepositorioSVN/HAMSTER\_Prototype/branches/JINT2018/include/libtomcrypt-\/develop/src/pk/asn1/x509/x509\_encode\_subject\_public\_key\_info.c}}


A\+S\+N.\+1 D\+E\+R/\+X.\+509, encode a Subject\+Public\+Key\+Info structure --nmav.  


{\ttfamily \#include \char`\"{}tomcrypt\+\_\+private.\+h\char`\"{}}\newline
Include dependency graph for x509\+\_\+encode\+\_\+subject\+\_\+public\+\_\+key\+\_\+info.\+c\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{x509__encode__subject__public__key__info_8c_a69644f00dd0825d15c8c799c46ef6ece}{x509\+\_\+encode\+\_\+subject\+\_\+public\+\_\+key\+\_\+info}} (unsigned char $\ast$out, unsigned long $\ast$outlen, unsigned int algorithm, const void $\ast$public\+\_\+key, unsigned long public\+\_\+key\+\_\+len, ltc\+\_\+asn1\+\_\+type parameters\+\_\+type, ltc\+\_\+asn1\+\_\+list $\ast$parameters, unsigned long parameters\+\_\+len)
\begin{DoxyCompactList}\small\item\em Encode a Subject\+Public\+Key\+Info. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
A\+S\+N.\+1 D\+E\+R/\+X.\+509, encode a Subject\+Public\+Key\+Info structure --nmav. 



\subsection{Function Documentation}
\mbox{\Hypertarget{x509__encode__subject__public__key__info_8c_a69644f00dd0825d15c8c799c46ef6ece}\label{x509__encode__subject__public__key__info_8c_a69644f00dd0825d15c8c799c46ef6ece}} 
\index{x509\_encode\_subject\_public\_key\_info.c@{x509\_encode\_subject\_public\_key\_info.c}!x509\_encode\_subject\_public\_key\_info@{x509\_encode\_subject\_public\_key\_info}}
\index{x509\_encode\_subject\_public\_key\_info@{x509\_encode\_subject\_public\_key\_info}!x509\_encode\_subject\_public\_key\_info.c@{x509\_encode\_subject\_public\_key\_info.c}}
\subsubsection{\texorpdfstring{x509\_encode\_subject\_public\_key\_info()}{x509\_encode\_subject\_public\_key\_info()}}
{\footnotesize\ttfamily int x509\+\_\+encode\+\_\+subject\+\_\+public\+\_\+key\+\_\+info (\begin{DoxyParamCaption}\item[{unsigned char $\ast$}]{out,  }\item[{unsigned long $\ast$}]{outlen,  }\item[{unsigned int}]{algorithm,  }\item[{const void $\ast$}]{public\+\_\+key,  }\item[{unsigned long}]{public\+\_\+key\+\_\+len,  }\item[{ltc\+\_\+asn1\+\_\+type}]{parameters\+\_\+type,  }\item[{ltc\+\_\+asn1\+\_\+list $\ast$}]{parameters,  }\item[{unsigned long}]{parameters\+\_\+len }\end{DoxyParamCaption})}



Encode a Subject\+Public\+Key\+Info. 


\begin{DoxyParams}{Parameters}
{\em out} & The output buffer \\
\hline
{\em outlen} & \mbox{[}in/out\mbox{]} Length of buffer and resulting length of output \\
\hline
{\em algorithm} & One out of the enum \#public\+\_\+key\+\_\+algorithms \\
\hline
{\em public\+\_\+key} & The buffer for the public key \\
\hline
{\em public\+\_\+key\+\_\+len} & The length of the public key buffer \\
\hline
{\em parameters\+\_\+type} & The parameters\textquotesingle{} type out of the enum ltc\+\_\+asn1\+\_\+type \\
\hline
{\em parameters} & The parameters to include \\
\hline
{\em parameters\+\_\+len} & The number of parameters to include \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
C\+R\+Y\+P\+T\+\_\+\+OK on success 
\end{DoxyReturn}


Definition at line 40 of file x509\+\_\+encode\+\_\+subject\+\_\+public\+\_\+key\+\_\+info.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{43 \{}
\DoxyCodeLine{44    \textcolor{keywordtype}{int}           err;}
\DoxyCodeLine{45    ltc\_asn1\_list alg\_id[2];}
\DoxyCodeLine{46    \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{ecc__find__curve_8c_a3b9aae9990e63034f7d199729f025b23}{OID}};}
\DoxyCodeLine{47    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} oid[16], oidlen;}
\DoxyCodeLine{48 }
\DoxyCodeLine{49    \mbox{\hyperlink{tomcrypt__argchk_8h_a683da3e041e49f196318b6ea951414ba}{LTC\_ARGCHK}}(out    != NULL);}
\DoxyCodeLine{50    \mbox{\hyperlink{tomcrypt__argchk_8h_a683da3e041e49f196318b6ea951414ba}{LTC\_ARGCHK}}(outlen != NULL);}
\DoxyCodeLine{51 }
\DoxyCodeLine{52    \textcolor{keywordflow}{if} ((err = \mbox{\hyperlink{tomcrypt__private_8h_acff5b3d0c6e1145e07d1a3ff53fadce5}{pk\_get\_oid}}(algorithm, \&\mbox{\hyperlink{ecc__find__curve_8c_a3b9aae9990e63034f7d199729f025b23}{OID}})) != \mbox{\hyperlink{tomcrypt_8h_adc29c2ff13d900c2f185ee95427fb06cad0f4c9daf749fe6284266f9384b9e334}{CRYPT\_OK}}) \{}
\DoxyCodeLine{53         \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{54    \}}
\DoxyCodeLine{55 }
\DoxyCodeLine{56    oidlen = \textcolor{keyword}{sizeof}(oid)/\textcolor{keyword}{sizeof}(oid[0]);}
\DoxyCodeLine{57    \textcolor{keywordflow}{if} ((err = \mbox{\hyperlink{tomcrypt__private_8h_ad99c87d19f50f703708d36a931fe5df6}{pk\_oid\_str\_to\_num}}(\mbox{\hyperlink{ecc__find__curve_8c_a3b9aae9990e63034f7d199729f025b23}{OID}}, oid, \&oidlen)) != \mbox{\hyperlink{tomcrypt_8h_adc29c2ff13d900c2f185ee95427fb06cad0f4c9daf749fe6284266f9384b9e334}{CRYPT\_OK}}) \{}
\DoxyCodeLine{58       \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{59    \}}
\DoxyCodeLine{60 }
\DoxyCodeLine{61    LTC\_SET\_ASN1(alg\_id, 0, LTC\_ASN1\_OBJECT\_IDENTIFIER, oid,        oidlen);}
\DoxyCodeLine{62    LTC\_SET\_ASN1(alg\_id, 1, parameters\_type,            parameters, parameters\_len);}
\DoxyCodeLine{63 }
\DoxyCodeLine{64    \textcolor{keywordflow}{return} \mbox{\hyperlink{der__encode__sequence__multi_8c_a1a5a69543a5c89f81560b52d6f11b8c5}{der\_encode\_sequence\_multi}}(out, outlen,}
\DoxyCodeLine{65         LTC\_ASN1\_SEQUENCE, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long})\textcolor{keyword}{sizeof}(alg\_id)/\textcolor{keyword}{sizeof}(alg\_id[0]), alg\_id,}
\DoxyCodeLine{66         LTC\_ASN1\_RAW\_BIT\_STRING, public\_key\_len*8U, public\_key,}
\DoxyCodeLine{67         LTC\_ASN1\_EOL,     0UL, NULL);}
\DoxyCodeLine{68 }
\DoxyCodeLine{69 \}}

\end{DoxyCode}


References C\+R\+Y\+P\+T\+\_\+\+OK, der\+\_\+encode\+\_\+sequence\+\_\+multi(), L\+T\+C\+\_\+\+A\+R\+G\+C\+HK, O\+ID, pk\+\_\+get\+\_\+oid(), and pk\+\_\+oid\+\_\+str\+\_\+to\+\_\+num().



Referenced by dsa\+\_\+export(), ecc\+\_\+export\+\_\+openssl(), and rsa\+\_\+export().

Here is the call graph for this function\+:
% FIG 1
Here is the caller graph for this function\+:
% FIG 2
